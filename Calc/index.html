<!DOCTYPE html>
<html>

    <head>
        <title>Calculator</title>
        <!-- Meta  -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap4 -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <!-- CSS/Scripts -->
    </head>

    <body>
        <!-- Driver -->
        <script type="text/javascript">
            $(document).ready(function(){

                $("button").click(function(){
                    var button_val = $(this).text();
                    // reset value if error
                    if( $("#equation").text() === "ERROR") $("#equation").html("<br>");
                    switch(button_val){
                        // if C
                        case "C":
                            $("#equation").html("<br>");
                            break;
                        // if CE
                        case "CE":
                            var eq = $("#equation").html();
                            if(eq === '<br>'){
                                // already empty, do nothing
                            }
                            else{
                                eq = eq.slice(0,-1);
                                if(eq === ""){
                                    $("#equation").html("<br>");
                                }
                                else $("#equation").text(eq);
                            }
                            break;
                        // if =
                        case "=":
                            var result;
                            try{
                                result = eval($("#equation").text());
                            }
                            catch(err){
                                result = "ERROR";
                            } 
                            $("#oldEquation").html($("#equation").text());
                            $("#oldEquation").append(" = ");
                            $("#equation").text(result);  
                            $("#result").text($("#equation").text());                        
                            break;
                        // inputs
                        default:
                            if(button_val === "X"){
                                button_val = "*";
                            }
                            if(button_val === "ANS"){
                                button_val = $("#result").text();
                            }

                            if(button_val === "ERROR"){

                            }
                            else {
                                var eq = $("#equation").html();
                                if(eq === '<br>'){
                                    $("#equation").text("");
                                }
                                $("#equation").append(button_val);
                            }
                            break;
                    }
                    
                });
            })
            
        </script>
        <!-- Formatting -->
        <div class="container border border-dark text-dark d-inline-block text-truncate" style="background-color: #bfd7ff;">
            <h1 class="display-4">Calculator</h1>
            <div class="row">
                <div class="col">
                     <h3 style="text-align: right;"><small id="oldEquation">=</small></h3>
                </div>
            </div>
            <div class="row">
                <div class="col">
                <div class="container">
                    <h3 style="text-align: right;"><small id="result"></small></h3>
                </div>
                </div>
            </div>
            <div class="row p-1">
                <div class="container border border-success bg-light text-dark">
                    <h1 style="text-align: right;"><small id="equation"><br></small></h1>
                </div>
            </div>
            <div class="row p-1">
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">(</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">)</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">CE</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">C</button>
                </div>
            </div>
            <div class="row p-1">
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">7</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">8</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">9</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">/</button>
                </div>
            </div>
            <div class="row p-1">
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">4</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">5</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">6</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">X</button>
                </div>
            </div>
            <div class="row p-1">
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">1</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">2</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">3</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">-</button>
                </div>
            </div>
            <div class="row p-1">
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">0</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">.</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">ANS</button>
                </div>
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">+</button>
                </div>
            </div>            
            <div class="row p-1">
                <div class="col px-2">
                    <button type="button" class="btn btn-primary btn-block">=</button>
                </div>
            </div>
        </div>

    </body>

</html>